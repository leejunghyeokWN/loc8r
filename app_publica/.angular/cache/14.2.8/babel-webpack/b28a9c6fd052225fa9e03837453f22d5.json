{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../geolocation.service\";\nimport * as i2 from \"../loc8r-data.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/router\";\nimport * as i5 from \"../distance.pipe\";\n\nfunction HomeListComponent_div_3_span_19_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 9);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const facility_r3 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(facility_r3);\n  }\n}\n\nfunction HomeListComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 2)(1, \"div\", 3)(2, \"h4\")(3, \"a\", 4);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"small\");\n    i0.ɵɵtext(6, \"\\u00A0 \");\n    i0.ɵɵelement(7, \"i\")(8, \"i\")(9, \"i\")(10, \"i\")(11, \"i\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"span\", 5);\n    i0.ɵɵtext(13);\n    i0.ɵɵpipe(14, \"distance\");\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"p\", 6);\n    i0.ɵɵtext(16);\n    i0.ɵɵpipe(17, \"uppercase\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"div\", 7);\n    i0.ɵɵtemplate(19, HomeListComponent_div_3_span_19_Template, 2, 1, \"span\", 8);\n    i0.ɵɵelementStart(20, \"span\", 9);\n    i0.ɵɵtext(21, \"Premium wifi\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const location_r1 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/location/\", location_r1._id, \"\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(location_r1.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵclassMapInterpolate1(\"fa\", location_r1.rating < 1 ? \"r\" : \"s\", \" fa-star\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"fa\", location_r1.rating < 2 ? \"r\" : \"s\", \" fa-star\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"fa\", location_r1.rating < 3 ? \"r\" : \"s\", \" fa-star\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"fa\", location_r1.rating < 4 ? \"r\" : \"s\", \" fa-star\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵclassMapInterpolate1(\"fa\", location_r1.rating < 5 ? \"r\" : \"s\", \" fa-star\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(14, 20, location_r1.distance));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind1(17, 22, location_r1.address));\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngForOf\", location_r1.facilities);\n  }\n}\n\nexport let HomeListComponent = /*#__PURE__*/(() => {\n  class HomeListComponent {\n    constructor(geolocationService, loc8rDataService) {\n      this.geolocationService = geolocationService;\n      this.loc8rDataService = loc8rDataService;\n    }\n\n    getLocations(position) {\n      this.message = 'Searching for nearby places';\n      const lat = position.coords.latitude;\n      const lng = position.coords.longitude;\n      this.loc8rDataService.getLocations(lat, lng).then(foundLocations => {\n        this.message = foundLocations.length > 0 ? '' : 'No locations found';\n        this.locations = foundLocations;\n      });\n    }\n\n    showError(error) {\n      this.message = error.message;\n    }\n\n    noGeo() {\n      this.message = 'Geolocation not supported by this browser.';\n    }\n\n    getPositions() {\n      this.message = 'Getting your location...';\n      this.geolocationService.getPosition(this.getLocations.bind(this), this.showError.bind(this), this.noGeo.bind(this));\n    }\n\n    ngOnInit() {\n      this.getPositions();\n    }\n\n  }\n\n  HomeListComponent.ɵfac = function HomeListComponent_Factory(t) {\n    return new (t || HomeListComponent)(i0.ɵɵdirectiveInject(i1.GeolocationService), i0.ɵɵdirectiveInject(i2.Loc8rDataService));\n  };\n\n  HomeListComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: HomeListComponent,\n    selectors: [[\"app-home-list\"]],\n    decls: 4,\n    vars: 2,\n    consts: [[1, \"error\"], [\"class\", \"card\", 4, \"ngFor\", \"ngForOf\"], [1, \"card\"], [1, \"card-block\"], [3, \"routerLink\"], [1, \"badge\", \"badge-pill\", \"badge-default\", \"float-right\"], [1, \"address\"], [1, \"facilities\"], [\"class\", \"badge badge-warning\", 4, \"ngFor\", \"ngForOf\"], [1, \"badge\", \"badge-warning\"]],\n    template: function HomeListComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtext(0, \"2018250045\\uC774\\uC911\\uD601\\n\");\n        i0.ɵɵelementStart(1, \"div\", 0);\n        i0.ɵɵtext(2);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(3, HomeListComponent_div_3_Template, 22, 24, \"div\", 1);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(2);\n        i0.ɵɵtextInterpolate(ctx.message);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngForOf\", ctx.locations);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.RouterLinkWithHref, i3.UpperCasePipe, i5.DistancePipe]\n  });\n  return HomeListComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}